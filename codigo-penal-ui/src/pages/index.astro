---
import BaseLayout from "../layouts/BaseLayout.astro";
import SidebarNav from "../components/SidebarNav.astro";
import DocumentHeader from "../components/DocumentHeader.astro";
import Articulo001 from "../components/articulos/Articulo001.astro";
import Articulo002 from "../components/articulos/Articulo002.astro";
import Articulo003 from "../components/articulos/Articulo003.astro";
import Articulo004 from "../components/articulos/Articulo004.astro";
import Articulo005 from "../components/articulos/Articulo005.astro";
import Articulo006 from "../components/articulos/Articulo006.astro";
import Articulo007 from "../components/articulos/Articulo007.astro";
import Articulo008 from "../components/articulos/Articulo008.astro";
import Articulo009 from "../components/articulos/Articulo009.astro";
import Articulo010 from "../components/articulos/Articulo010.astro";
import decretoHtml from "../content/1_decreto_legislativo.html?raw";
import exposicionHtml from "../content/2_exposicion_motivos.html?raw";
import tituloPreliminarHtml from "../content/3_titulo_preliminar.html?raw";

const tocGroups = [
  { title: "Decreto Legislativo Nº 635", href: "#decreto-635" },
  { title: "Exposición de Motivos", href: "#exposicion-motivos" },
  { title: "TÍTULO PRELIMINAR", href: "#titulo-preliminar" },
  {
    title: "Libro I — Parte General",
    href: "#libro-primero",
    items: [
      {
        title: "De la Ley Penal",
        href: "#titulo-I",
        subitems: [
          { title: "Aplicación espacial", href: "#capitulo-I-aplicacion-espacial" },
          { title: "Aplicación temporal", href: "#capitulo-II-aplicacion-temporal" },
          { title: "Aplicación personal", href: "#capitulo-III-aplicacion-personal" },
        ],
      },
      {
        title: "Del Hecho Punible",
        href: "#titulo-II",
        subitems: [
          { title: "Bases de punibilidad", href: "#capitulo-III-bases" },
          { title: "Tentativa", href: "#capitulo-IV-tentativa" },
        ],
      },
    ],
  },
  {
    title: "Libro II — Parte Especial",
    href: "#libro-segundo",
    note: "Delitos",
    items: [
      {
        title: "Contra la Vida",
        href: "#delitos-vida",
        subitems: [
          { title: "Homicidio", href: "#capitulo-homicidio" },
          { title: "Lesiones", href: "#capitulo-lesiones" },
        ],
      },
      {
        title: "Contra la Libertad",
        href: "#delitos-libertad",
        subitems: [
          { title: "Libertad personal", href: "#capitulo-libertad" },
          { title: "Secreto profesional", href: "#capitulo-secreto" },
        ],
      },
    ],
  },
  {
    title: "Libro III — Faltas",
    href: "#libro-tercero",
    items: [
      { title: "Disposiciones fundamentales", href: "#faltas-base" },
      { title: "Contra la persona", href: "#faltas-persona" },
      { title: "Contra el patrimonio", href: "#faltas-patrimonio" },
    ],
  },
  { title: "Disposiciones Finales", href: "#disposiciones-finales" },
];
---
<BaseLayout title="Código Penal del Perú">
  <div class="relative grid min-h-screen grid-cols-5 gap-x-10 max-sm:grid-cols-1 md:mx-8 xl:mx-0">
    <SidebarNav tocGroups={tocGroups} />

    <main class="col-span-full w-full max-w-5xl flex-1 xl:col-span-3 xl:col-start-2 xl:justify-self-center">
      <div class="w-full justify-self-center">
        <div class="pt-8 lg:pt-20">
          <div class="sticky top-0 flex items-center gap-x-2 px-7 py-2 backdrop-blur-lg bg-transparent">
            <h5 class="truncate font-mono text-[0.6875rem] text-black/40 uppercase">
              <span class="link-hover">Decreto Legislativo Nº 635</span> /
              <span class="text-black">Normas Legales Actualizadas</span>
            </h5>
          </div>

          <article class="prose relative mb-30 grid justify-items-center rounded-xs p-8 md:bg-white md:shadow-[0px_1px_4px_1px_rgba(0,_0,_0,_0.05),_0px_1px_1px_0px_rgba(0,_0,_0,_0.50),_0px_-1px_1px_1px_#FFF_inset] lg:px-16 lg:py-20">
            <DocumentHeader
              updated="17/10/2025"
              title="Código Penal."
              subtitle="Decreto Legislativo N° 635"
              tagline="Normas Legales Actualizadas"
            />

            <section class="w-full max-w-prose" id="decreto-635" set:html={decretoHtml} />
            <section class="w-full max-w-prose" id="exposicion-motivos" set:html={exposicionHtml} />
            <section class="w-full max-w-prose" id="titulo-preliminar" set:html={tituloPreliminarHtml} />

            <section class="w-full max-w-prose" id="libro-primero">
              <h2 class="mt-12 mb-2 title-2">LIBRO PRIMERO</h2>
              <p class="font-mono text-sm text-black/50 uppercase mb-6">Parte General</p>
              <h3 class="mb-4 mt-8 title-3" id="titulo-I">TÍTULO I</h3>
              <h4 class="mb-6 title-4">DE LA LEY PENAL</h4>

              <h4 class="mb-2 mt-10 title-4" id="capitulo-I-aplicacion-espacial">CAPÍTULO I</h4>
              <h5 class="mb-6 title-5">APLICACIÓN ESPACIAL</h5>

              <Articulo001 />
              <Articulo002 />
              <Articulo003 />
              <Articulo004 />
              <Articulo005 />

              <h4 class="mb-2 mt-10 title-4" id="capitulo-II-aplicacion-temporal">CAPÍTULO II</h4>
              <h5 class="mb-6 title-5">APLICACIÓN TEMPORAL</h5>

              <Articulo006 />
              <Articulo007 />
              <Articulo008 />
              <Articulo009 />

              <h4 class="mb-2 mt-10 title-4" id="capitulo-III-aplicacion-personal">CAPÍTULO III</h4>
              <h5 class="mb-6 title-5">APLICACIÓN PERSONAL</h5>

              <Articulo010 />
            </section>

            <section class="w-full max-w-prose" id="libro-tercero">
              <h2 class="mt-12 mb-8 title-2">LIBRO III — FALTAS</h2>
              <p class="body-text mb-4">
                Las disposiciones sobre faltas se presentan como guías de
                convivencia y prevención comunitaria.
              </p>
            </section>
          </article>
        </div>
      </div>
    </main>
  </div>
</BaseLayout>
